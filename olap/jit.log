+ set -e
+ LABEL=jit
+ PATH_OLD=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ DATADIR=/mnt/pgdata/data
+ PSQL=/mnt/data/builds/18/bin/psql
++ date +%Y%m%d-%H%M%S
+ TS=20241019-135316
+ LOGDIR=20241019-135316-jit/logs
+ RESULTS=20241019-135316-jit/results
+ RUNS=3
+ mkdir -p 20241019-135316-jit/logs
+ mkdir -p 20241019-135316-jit/results
+ for s in 1 10
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 18-jit == 13 ']'
+ '[' 18-jit == 14 ']'
+ '[' 18-jit == 15 ']'
+ '[' 18-jit == 16 ']'
+ '[' 18-jit == 17 ']'
+ '[' 18-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-18-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729338798
+ '[' 18-jit == 8.0 ']'
+ '[' 18-jit == 8.1 ']'
+ '[' 18-jit == 8.2 ']'
+ '[' 18-jit == 8.3 ']'
+ '[' 18-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729338851
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729338907
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729338912
+ echo 18-jit 1 0 53 56 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 18-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-18-jit-1-0.log
+ ./run-analyze-tuned.sh 18-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-18-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 18-jit == 13 ']'
+ '[' 18-jit == 14 ']'
+ '[' 18-jit == 15 ']'
+ '[' 18-jit == 16 ']'
+ '[' 18-jit == 17 ']'
+ '[' 18-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-18-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729339072
+ '[' 18-jit == 8.0 ']'
+ '[' 18-jit == 8.1 ']'
+ '[' 18-jit == 8.2 ']'
+ '[' 18-jit == 8.3 ']'
+ '[' 18-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729339116
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729339150
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729339155
+ echo 18-jit 1 4 44 34 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 18-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-18-jit-1-4.log
+ ./run-analyze-tuned.sh 18-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-18-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 17-jit == 13 ']'
+ '[' 17-jit == 14 ']'
+ '[' 17-jit == 15 ']'
+ '[' 17-jit == 16 ']'
+ '[' 17-jit == 17 ']'
+ '[' 17-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-17-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729339270
+ '[' 17-jit == 8.0 ']'
+ '[' 17-jit == 8.1 ']'
+ '[' 17-jit == 8.2 ']'
+ '[' 17-jit == 8.3 ']'
+ '[' 17-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729339323
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729339381
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729339386
+ echo 17-jit 1 0 53 58 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 17-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-17-jit-1-0.log
+ ./run-analyze-tuned.sh 17-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-17-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 17-jit == 13 ']'
+ '[' 17-jit == 14 ']'
+ '[' 17-jit == 15 ']'
+ '[' 17-jit == 16 ']'
+ '[' 17-jit == 17 ']'
+ '[' 17-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-17-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729339547
+ '[' 17-jit == 8.0 ']'
+ '[' 17-jit == 8.1 ']'
+ '[' 17-jit == 8.2 ']'
+ '[' 17-jit == 8.3 ']'
+ '[' 17-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729339591
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729339625
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729339630
+ echo 17-jit 1 4 44 34 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 17-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-17-jit-1-4.log
+ ./run-analyze-tuned.sh 17-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-17-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 16-jit == 13 ']'
+ '[' 16-jit == 14 ']'
+ '[' 16-jit == 15 ']'
+ '[' 16-jit == 16 ']'
+ '[' 16-jit == 17 ']'
+ '[' 16-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-16-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729339748
+ '[' 16-jit == 8.0 ']'
+ '[' 16-jit == 8.1 ']'
+ '[' 16-jit == 8.2 ']'
+ '[' 16-jit == 8.3 ']'
+ '[' 16-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729339806
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729339868
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729339872
+ echo 16-jit 1 0 58 62 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 16-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-16-jit-1-0.log
+ ./run-analyze-tuned.sh 16-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-16-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 16-jit == 13 ']'
+ '[' 16-jit == 14 ']'
+ '[' 16-jit == 15 ']'
+ '[' 16-jit == 16 ']'
+ '[' 16-jit == 17 ']'
+ '[' 16-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-16-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729340033
+ '[' 16-jit == 8.0 ']'
+ '[' 16-jit == 8.1 ']'
+ '[' 16-jit == 8.2 ']'
+ '[' 16-jit == 8.3 ']'
+ '[' 16-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729340080
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729340118
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729340123
+ echo 16-jit 1 4 47 38 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 16-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-16-jit-1-4.log
+ ./run-analyze-tuned.sh 16-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-16-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 15-jit == 13 ']'
+ '[' 15-jit == 14 ']'
+ '[' 15-jit == 15 ']'
+ '[' 15-jit == 16 ']'
+ '[' 15-jit == 17 ']'
+ '[' 15-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-15-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729340239
+ '[' 15-jit == 8.0 ']'
+ '[' 15-jit == 8.1 ']'
+ '[' 15-jit == 8.2 ']'
+ '[' 15-jit == 8.3 ']'
+ '[' 15-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729340297
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729340356
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729340361
+ echo 15-jit 1 0 58 59 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 15-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-15-jit-1-0.log
+ ./run-analyze-tuned.sh 15-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-15-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 15-jit == 13 ']'
+ '[' 15-jit == 14 ']'
+ '[' 15-jit == 15 ']'
+ '[' 15-jit == 16 ']'
+ '[' 15-jit == 17 ']'
+ '[' 15-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-15-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729340526
+ '[' 15-jit == 8.0 ']'
+ '[' 15-jit == 8.1 ']'
+ '[' 15-jit == 8.2 ']'
+ '[' 15-jit == 8.3 ']'
+ '[' 15-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729340573
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729340610
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729340615
+ echo 15-jit 1 4 47 37 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 15-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-15-jit-1-4.log
+ ./run-analyze-tuned.sh 15-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-15-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 14-jit == 13 ']'
+ '[' 14-jit == 14 ']'
+ '[' 14-jit == 15 ']'
+ '[' 14-jit == 16 ']'
+ '[' 14-jit == 17 ']'
+ '[' 14-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-14-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729340741
+ '[' 14-jit == 8.0 ']'
+ '[' 14-jit == 8.1 ']'
+ '[' 14-jit == 8.2 ']'
+ '[' 14-jit == 8.3 ']'
+ '[' 14-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729340800
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729340865
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729340870
+ echo 14-jit 1 0 59 65 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 14-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-14-jit-1-0.log
+ ./run-analyze-tuned.sh 14-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-14-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 14-jit == 13 ']'
+ '[' 14-jit == 14 ']'
+ '[' 14-jit == 15 ']'
+ '[' 14-jit == 16 ']'
+ '[' 14-jit == 17 ']'
+ '[' 14-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-14-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729341032
+ '[' 14-jit == 8.0 ']'
+ '[' 14-jit == 8.1 ']'
+ '[' 14-jit == 8.2 ']'
+ '[' 14-jit == 8.3 ']'
+ '[' 14-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729341081
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729341119
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729341124
+ echo 14-jit 1 4 49 38 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 14-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-14-jit-1-4.log
+ ./run-analyze-tuned.sh 14-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-14-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 13-jit == 13 ']'
+ '[' 13-jit == 14 ']'
+ '[' 13-jit == 15 ']'
+ '[' 13-jit == 16 ']'
+ '[' 13-jit == 17 ']'
+ '[' 13-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-13-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729341250
+ '[' 13-jit == 8.0 ']'
+ '[' 13-jit == 8.1 ']'
+ '[' 13-jit == 8.2 ']'
+ '[' 13-jit == 8.3 ']'
+ '[' 13-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729341309
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729341373
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729341378
+ echo 13-jit 1 0 59 64 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 13-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-13-jit-1-0.log
+ ./run-analyze-tuned.sh 13-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-13-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 13-jit == 13 ']'
+ '[' 13-jit == 14 ']'
+ '[' 13-jit == 15 ']'
+ '[' 13-jit == 16 ']'
+ '[' 13-jit == 17 ']'
+ '[' 13-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-13-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729341536
+ '[' 13-jit == 8.0 ']'
+ '[' 13-jit == 8.1 ']'
+ '[' 13-jit == 8.2 ']'
+ '[' 13-jit == 8.3 ']'
+ '[' 13-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729341584
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729341622
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729341626
+ echo 13-jit 1 4 48 38 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 13-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-13-jit-1-4.log
+ ./run-analyze-tuned.sh 13-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-13-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 12-jit == 13 ']'
+ '[' 12-jit == 14 ']'
+ '[' 12-jit == 15 ']'
+ '[' 12-jit == 16 ']'
+ '[' 12-jit == 17 ']'
+ '[' 12-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-12-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729341756
+ '[' 12-jit == 8.0 ']'
+ '[' 12-jit == 8.1 ']'
+ '[' 12-jit == 8.2 ']'
+ '[' 12-jit == 8.3 ']'
+ '[' 12-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729341816
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729341880
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729341886
+ echo 12-jit 1 0 60 64 6
+ rm -f explains.log
+ ./run-queries-tuned.sh 12-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-12-jit-1-0.log
+ ./run-analyze-tuned.sh 12-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-12-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 12-jit == 13 ']'
+ '[' 12-jit == 14 ']'
+ '[' 12-jit == 15 ']'
+ '[' 12-jit == 16 ']'
+ '[' 12-jit == 17 ']'
+ '[' 12-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-12-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729342035
+ '[' 12-jit == 8.0 ']'
+ '[' 12-jit == 8.1 ']'
+ '[' 12-jit == 8.2 ']'
+ '[' 12-jit == 8.3 ']'
+ '[' 12-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729342084
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729342122
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729342127
+ echo 12-jit 1 4 49 38 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 12-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-12-jit-1-4.log
+ ./run-analyze-tuned.sh 12-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-12-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 11-jit == 13 ']'
+ '[' 11-jit == 14 ']'
+ '[' 11-jit == 15 ']'
+ '[' 11-jit == 16 ']'
+ '[' 11-jit == 17 ']'
+ '[' 11-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-11-jit-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729342236
+ '[' 11-jit == 8.0 ']'
+ '[' 11-jit == 8.1 ']'
+ '[' 11-jit == 8.2 ']'
+ '[' 11-jit == 8.3 ']'
+ '[' 11-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729342297
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729342360
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729342364
+ echo 11-jit 1 0 61 63 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 11-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/1.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/1.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/1.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/3.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/3.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/3.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/5.sql:28: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/5.sql:28: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/5.sql:28: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/6.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/6.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/6.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/7.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/7.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/7.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/9.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/9.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/9.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/10.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/10.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/10.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/15.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/15.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/15.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/17.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/17.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/17.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/18.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/18.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/18.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/20.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/20.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/20.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/21.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/21.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/21.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-11-jit-1-0.log
+ ./run-analyze-tuned.sh 11-jit 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:28: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:28: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-11-jit-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 11-jit == 13 ']'
+ '[' 11-jit == 14 ']'
+ '[' 11-jit == 15 ']'
+ '[' 11-jit == 16 ']'
+ '[' 11-jit == 17 ']'
+ '[' 11-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-11-jit-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729342408
+ '[' 11-jit == 8.0 ']'
+ '[' 11-jit == 8.1 ']'
+ '[' 11-jit == 8.2 ']'
+ '[' 11-jit == 8.3 ']'
+ '[' 11-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729342458
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729342496
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729342499
+ echo 11-jit 1 4 50 38 3
+ rm -f explains.log
+ ./run-queries-tuned.sh 11-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
psql:explain/1.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/1.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/1.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/3.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/3.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/3.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/6.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/6.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/6.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/7.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/7.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/7.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/15.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/15.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/15.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/17.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/17.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/17.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/18.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/18.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/18.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain/20.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/20.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:queries/20.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-11-jit-1-4.log
+ ./run-analyze-tuned.sh 11-jit 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:25: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:26: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:13: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:43: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:35: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:16: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:36: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
psql:explain.sql:47: ERROR:  could not load library "/mnt/data/builds/11-jit/lib/postgresql/llvmjit.so": /mnt/data/builds/11-jit/lib/postgresql/llvmjit.so: undefined symbol: LLVMBuildGEP
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-11-jit-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for s in 1 10
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 18-jit == 13 ']'
+ '[' 18-jit == 14 ']'
+ '[' 18-jit == 15 ']'
+ '[' 18-jit == 16 ']'
+ '[' 18-jit == 17 ']'
+ '[' 18-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-18-jit-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729342550
+ '[' 18-jit == 8.0 ']'
+ '[' 18-jit == 8.1 ']'
+ '[' 18-jit == 8.2 ']'
+ '[' 18-jit == 8.3 ']'
+ '[' 18-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729343145
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729343775
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729343805
+ echo 18-jit 10 0 595 630 30
+ rm -f explains.log
+ ./run-queries-tuned.sh 18-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-18-jit-10-0.log
+ ./run-analyze-tuned.sh 18-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-18-jit-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 18-jit == 13 ']'
+ '[' 18-jit == 14 ']'
+ '[' 18-jit == 15 ']'
+ '[' 18-jit == 16 ']'
+ '[' 18-jit == 17 ']'
+ '[' 18-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-18-jit-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729345206
+ '[' 18-jit == 8.0 ']'
+ '[' 18-jit == 8.1 ']'
+ '[' 18-jit == 8.2 ']'
+ '[' 18-jit == 8.3 ']'
+ '[' 18-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729345691
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729346093
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729346123
+ echo 18-jit 10 4 485 402 30
+ rm -f explains.log
+ ./run-queries-tuned.sh 18-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-18-jit-10-4.log
+ ./run-analyze-tuned.sh 18-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-18-jit-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 17-jit == 13 ']'
+ '[' 17-jit == 14 ']'
+ '[' 17-jit == 15 ']'
+ '[' 17-jit == 16 ']'
+ '[' 17-jit == 17 ']'
+ '[' 17-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-17-jit-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729347134
+ '[' 17-jit == 8.0 ']'
+ '[' 17-jit == 8.1 ']'
+ '[' 17-jit == 8.2 ']'
+ '[' 17-jit == 8.3 ']'
+ '[' 17-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729347724
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729348348
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729348378
+ echo 17-jit 10 0 590 624 30
+ rm -f explains.log
+ ./run-queries-tuned.sh 17-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-17-jit-10-0.log
+ ./run-analyze-tuned.sh 17-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-17-jit-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 17-jit == 13 ']'
+ '[' 17-jit == 14 ']'
+ '[' 17-jit == 15 ']'
+ '[' 17-jit == 16 ']'
+ '[' 17-jit == 17 ']'
+ '[' 17-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-17-jit-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729349741
+ '[' 17-jit == 8.0 ']'
+ '[' 17-jit == 8.1 ']'
+ '[' 17-jit == 8.2 ']'
+ '[' 17-jit == 8.3 ']'
+ '[' 17-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729350223
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729350612
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729350642
+ echo 17-jit 10 4 482 389 30
+ rm -f explains.log
+ ./run-queries-tuned.sh 17-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down........ done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-17-jit-10-4.log
+ ./run-analyze-tuned.sh 17-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-17-jit-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 16-jit == 13 ']'
+ '[' 16-jit == 14 ']'
+ '[' 16-jit == 15 ']'
+ '[' 16-jit == 16 ']'
+ '[' 16-jit == 17 ']'
+ '[' 16-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-16-jit-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729351702
+ '[' 16-jit == 8.0 ']'
+ '[' 16-jit == 8.1 ']'
+ '[' 16-jit == 8.2 ']'
+ '[' 16-jit == 8.3 ']'
+ '[' 16-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729352334
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729352991
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729353021
+ echo 16-jit 10 0 632 657 30
+ rm -f explains.log
+ ./run-queries-tuned.sh 16-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-16-jit-10-0.log
+ ./run-analyze-tuned.sh 16-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-16-jit-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 16-jit == 13 ']'
+ '[' 16-jit == 14 ']'
+ '[' 16-jit == 15 ']'
+ '[' 16-jit == 16 ']'
+ '[' 16-jit == 17 ']'
+ '[' 16-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-16-jit-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729354457
+ '[' 16-jit == 8.0 ']'
+ '[' 16-jit == 8.1 ']'
+ '[' 16-jit == 8.2 ']'
+ '[' 16-jit == 8.3 ']'
+ '[' 16-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729354964
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729355373
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729355402
+ echo 16-jit 10 4 507 409 29
+ rm -f explains.log
+ ./run-queries-tuned.sh 16-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-16-jit-10-4.log
+ ./run-analyze-tuned.sh 16-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-16-jit-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 15-jit == 13 ']'
+ '[' 15-jit == 14 ']'
+ '[' 15-jit == 15 ']'
+ '[' 15-jit == 16 ']'
+ '[' 15-jit == 17 ']'
+ '[' 15-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-15-jit-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729356307
+ '[' 15-jit == 8.0 ']'
+ '[' 15-jit == 8.1 ']'
+ '[' 15-jit == 8.2 ']'
+ '[' 15-jit == 8.3 ']'
+ '[' 15-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729356950
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729357606
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729357635
+ echo 15-jit 10 0 643 656 29
+ rm -f explains.log
+ ./run-queries-tuned.sh 15-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-15-jit-10-0.log
+ ./run-analyze-tuned.sh 15-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-15-jit-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 15-jit == 13 ']'
+ '[' 15-jit == 14 ']'
+ '[' 15-jit == 15 ']'
+ '[' 15-jit == 16 ']'
+ '[' 15-jit == 17 ']'
+ '[' 15-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-15-jit-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729359059
+ '[' 15-jit == 8.0 ']'
+ '[' 15-jit == 8.1 ']'
+ '[' 15-jit == 8.2 ']'
+ '[' 15-jit == 8.3 ']'
+ '[' 15-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729359577
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729359977
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729360007
+ echo 15-jit 10 4 518 400 30
+ rm -f explains.log
+ ./run-queries-tuned.sh 15-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-15-jit-10-4.log
+ ./run-analyze-tuned.sh 15-jit 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-15-jit-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in 18-jit 17-jit 16-jit 15-jit 14-jit 13-jit 12-jit 11-jit
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 14-jit == 13 ']'
+ '[' 14-jit == 14 ']'
+ '[' 14-jit == 15 ']'
+ '[' 14-jit == 16 ']'
+ '[' 14-jit == 17 ']'
+ '[' 14-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-14-jit-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729360987
+ '[' 14-jit == 8.0 ']'
+ '[' 14-jit == 8.1 ']'
+ '[' 14-jit == 8.2 ']'
+ '[' 14-jit == 8.3 ']'
+ '[' 14-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729361651
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1729362354
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ d=1729362384
+ echo 14-jit 10 0 664 703 30
+ rm -f explains.log
+ ./run-queries-tuned.sh 14-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/explains-14-jit-10-0.log
+ ./run-analyze-tuned.sh 14-jit 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241019-135316-jit/logs/analyze-14-jit-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14-jit/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 2'
+ '[' 14-jit == 13 ']'
+ '[' 14-jit == 14 ']'
+ '[' 14-jit == 15 ']'
+ '[' 14-jit == 16 ']'
+ '[' 14-jit == 17 ']'
+ '[' 14-jit == 18 ']'
+ echo 'effective_io_concurrency = 16'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ echo 'jit = on'
+ pg_ctl -D /mnt/pgdata/data -l 20241019-135316-jit/logs/pg-14-jit-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1729363727
+ '[' 14-jit == 8.0 ']'
+ '[' 14-jit == 8.1 ']'
+ '[' 14-jit == 8.2 ']'
+ '[' 14-jit == 8.3 ']'
+ '[' 14-jit == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1729364263
+ /mnt/data/builds/18/bin/psql -e test
