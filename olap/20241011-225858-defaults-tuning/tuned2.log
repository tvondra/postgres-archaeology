+ set -e
+ PATH_OLD=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ DATADIR=/mnt/pgdata/data
+ PSQL=/mnt/data/builds/18/bin/psql
++ date +%Y%m%d-%H%M%S
+ TS=20241011-225858
+ LOGDIR=20241011-225858/logs
+ RESULTS=20241011-225858/results
+ RUNS=3
+ mkdir -p 20241011-225858/logs
+ mkdir -p 20241011-225858/results
+ for s in 1 10
+ for w in 0 4
+ '[' 0 == 4 ']'
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6 9.5 9.4 9.3 9.2 9.1 9.0 8.4 8.3 8.2 8.0'
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-18-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728680340
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728680394
+ echo 18 1 0 54
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-18-1-0.log
+ ./run-analyze-tuned.sh 18 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-18-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-17-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728680609
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728680663
+ echo 17 1 0 54
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-17-1-0.log
+ ./run-analyze-tuned.sh 17 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-17-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-16-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728680880
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728680936
+ echo 16 1 0 56
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-16-1-0.log
+ ./run-analyze-tuned.sh 16 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-16-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-15-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728681158
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728681216
+ echo 15 1 0 58
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-15-1-0.log
+ ./run-analyze-tuned.sh 15 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-15-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-14-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728681442
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728681501
+ echo 14 1 0 59
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-14-1-0.log
+ ./run-analyze-tuned.sh 14 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-14-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-13-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728681728
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728681787
+ echo 13 1 0 59
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-13-1-0.log
+ ./run-analyze-tuned.sh 13 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-13-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-12-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728682009
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728682070
+ echo 12 1 0 61
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-12-1-0.log
+ ./run-analyze-tuned.sh 12 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-12-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-11-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728682285
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728682346
+ echo 11 1 0 61
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-11-1-0.log
+ ./run-analyze-tuned.sh 11 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-11-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-10-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728682561
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728682620
+ echo 10 1 0 59
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-10-1-0.log
+ ./run-analyze-tuned.sh 10 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-10-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.6-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728682811
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728682875
+ echo 9.6 1 0 64
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-9.6-1-0.log
+ ./run-analyze-tuned.sh 9.6 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-9.6-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.5 == 8.0 ']'
+ '[' 9.5 == 8.1 ']'
+ '[' 9.5 == 8.2 ']'
+ '[' 9.5 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.5 == 9.4 ']'
+ '[' 9.5 == 9.3 ']'
+ '[' 9.5 == 9.2 ']'
+ '[' 9.5 == 9.1 ']'
+ '[' 9.5 == 9.0 ']'
+ '[' 9.5 == 8.4 ']'
+ '[' 9.5 == 8.3 ']'
+ '[' 9.5 == 8.2 ']'
+ '[' 9.5 == 8.1 ']'
+ '[' 9.5 == 8.0 ']'
+ '[' 9.5 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.5-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728683187
+ '[' 9.5 == 8.0 ']'
+ '[' 9.5 == 8.1 ']'
+ '[' 9.5 == 8.2 ']'
+ '[' 9.5 == 8.3 ']'
+ '[' 9.5 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728683257
+ echo 9.5 1 0 70
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.5 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.5-1-0.log
+ ./run-analyze-tuned.sh 9.5 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.5-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.4/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.4 == 8.0 ']'
+ '[' 9.4 == 8.1 ']'
+ '[' 9.4 == 8.2 ']'
+ '[' 9.4 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.4 == 9.4 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.4-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728683584
+ '[' 9.4 == 8.0 ']'
+ '[' 9.4 == 8.1 ']'
+ '[' 9.4 == 8.2 ']'
+ '[' 9.4 == 8.3 ']'
+ '[' 9.4 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728683664
+ echo 9.4 1 0 80
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.4 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.4-1-0.log
+ ./run-analyze-tuned.sh 9.4 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.4-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.3/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.3 == 8.0 ']'
+ '[' 9.3 == 8.1 ']'
+ '[' 9.3 == 8.2 ']'
+ '[' 9.3 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.3 == 9.4 ']'
+ '[' 9.3 == 9.3 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.3-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728683991
+ '[' 9.3 == 8.0 ']'
+ '[' 9.3 == 8.1 ']'
+ '[' 9.3 == 8.2 ']'
+ '[' 9.3 == 8.3 ']'
+ '[' 9.3 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728684071
+ echo 9.3 1 0 80
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.3 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.3-1-0.log
+ ./run-analyze-tuned.sh 9.3 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.3-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.2 == 8.0 ']'
+ '[' 9.2 == 8.1 ']'
+ '[' 9.2 == 8.2 ']'
+ '[' 9.2 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.2 == 9.4 ']'
+ '[' 9.2 == 9.3 ']'
+ '[' 9.2 == 9.2 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.2-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728684410
+ '[' 9.2 == 8.0 ']'
+ '[' 9.2 == 8.1 ']'
+ '[' 9.2 == 8.2 ']'
+ '[' 9.2 == 8.3 ']'
+ '[' 9.2 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728684490
+ echo 9.2 1 0 80
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.2 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.2-1-0.log
+ ./run-analyze-tuned.sh 9.2 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.2-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.1/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.1 == 8.0 ']'
+ '[' 9.1 == 8.1 ']'
+ '[' 9.1 == 8.2 ']'
+ '[' 9.1 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.1 == 9.4 ']'
+ '[' 9.1 == 9.3 ']'
+ '[' 9.1 == 9.2 ']'
+ '[' 9.1 == 9.1 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.1-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728684850
+ '[' 9.1 == 8.0 ']'
+ '[' 9.1 == 8.1 ']'
+ '[' 9.1 == 8.2 ']'
+ '[' 9.1 == 8.3 ']'
+ '[' 9.1 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728684933
+ echo 9.1 1 0 83
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.1 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.1-1-0.log
+ ./run-analyze-tuned.sh 9.1 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.1-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.0 == 8.0 ']'
+ '[' 9.0 == 8.1 ']'
+ '[' 9.0 == 8.2 ']'
+ '[' 9.0 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.0 == 9.4 ']'
+ '[' 9.0 == 9.3 ']'
+ '[' 9.0 == 9.2 ']'
+ '[' 9.0 == 9.1 ']'
+ '[' 9.0 == 9.0 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.0-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728685294
+ '[' 9.0 == 8.0 ']'
+ '[' 9.0 == 8.1 ']'
+ '[' 9.0 == 8.2 ']'
+ '[' 9.0 == 8.3 ']'
+ '[' 9.0 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728685375
+ echo 9.0 1 0 81
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.0 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.0-1-0.log
+ ./run-analyze-tuned.sh 9.0 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.0-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.4/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.4 == 8.0 ']'
+ '[' 8.4 == 8.1 ']'
+ '[' 8.4 == 8.2 ']'
+ '[' 8.4 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 8.4 == 9.4 ']'
+ '[' 8.4 == 9.3 ']'
+ '[' 8.4 == 9.2 ']'
+ '[' 8.4 == 9.1 ']'
+ '[' 8.4 == 9.0 ']'
+ '[' 8.4 == 8.4 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.4-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728685735
+ '[' 8.4 == 8.0 ']'
+ '[' 8.4 == 8.1 ']'
+ '[' 8.4 == 8.2 ']'
+ '[' 8.4 == 8.3 ']'
+ '[' 8.4 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728685818
+ echo 8.4 1 0 83
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.4 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.4-1-0.log
+ ./run-analyze-tuned.sh 8.4 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.4-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.3/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.3 == 8.0 ']'
+ '[' 8.3 == 8.1 ']'
+ '[' 8.3 == 8.2 ']'
+ '[' 8.3 == 8.3 ']'
+ echo ''
+ '[' 8.3 == 9.4 ']'
+ '[' 8.3 == 9.3 ']'
+ '[' 8.3 == 9.2 ']'
+ '[' 8.3 == 9.1 ']'
+ '[' 8.3 == 9.0 ']'
+ '[' 8.3 == 8.4 ']'
+ '[' 8.3 == 8.3 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.3-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728686172
+ '[' 8.3 == 8.0 ']'
+ '[' 8.3 == 8.1 ']'
+ '[' 8.3 == 8.2 ']'
+ '[' 8.3 == 8.3 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728686252
+ echo 8.3 1 0 80
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.3 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.3-1-0.log
+ ./run-analyze-tuned.sh 8.3 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.3-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.2 == 8.0 ']'
+ '[' 8.2 == 8.1 ']'
+ '[' 8.2 == 8.2 ']'
+ echo ''
+ '[' 8.2 == 9.4 ']'
+ '[' 8.2 == 9.3 ']'
+ '[' 8.2 == 9.2 ']'
+ '[' 8.2 == 9.1 ']'
+ '[' 8.2 == 9.0 ']'
+ '[' 8.2 == 8.4 ']'
+ '[' 8.2 == 8.3 ']'
+ '[' 8.2 == 8.2 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.2-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
CREATE DATABASE
++ date +%s
+ a=1728686641
+ '[' 8.2 == 8.0 ']'
+ '[' 8.2 == 8.1 ']'
+ '[' 8.2 == 8.2 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728686721
+ echo 8.2 1 0 80
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.2 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.2-1-0.log
+ ./run-analyze-tuned.sh 8.2 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.2-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.0 == 8.0 ']'
+ echo ''
+ '[' 8.0 == 9.4 ']'
+ '[' 8.0 == 9.3 ']'
+ '[' 8.0 == 9.2 ']'
+ '[' 8.0 == 9.1 ']'
+ '[' 8.0 == 9.0 ']'
+ '[' 8.0 == 8.4 ']'
+ '[' 8.0 == 8.3 ']'
+ '[' 8.0 == 8.2 ']'
+ '[' 8.0 == 8.1 ']'
+ '[' 8.0 == 8.0 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.0-1-0.log -w start
waiting for postmaster to start.... done
postmaster started
+ sleep 1
+ createdb test
CREATE DATABASE
++ date +%s
+ a=1728687164
+ '[' 8.0 == 8.0 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728687317
+ echo 8.0 1 0 153
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.0 1 0 /mnt/pgdata/data results.csv
waiting for postmaster to shut down....... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.0-1-0.log
+ ./run-analyze-tuned.sh 8.0 1 0 /mnt/pgdata/data results.csv
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.0-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for postmaster to shut down.... done
postmaster stopped
+ sleep 1
+ for w in 0 4
+ '[' 4 == 4 ']'
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6'
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-18-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728687981
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728688027
+ echo 18 1 4 46
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-18-1-4.log
+ ./run-analyze-tuned.sh 18 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-18-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-17-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728688177
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728688223
+ echo 17 1 4 46
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-17-1-4.log
+ ./run-analyze-tuned.sh 17 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-17-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-16-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728688373
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728688422
+ echo 16 1 4 49
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-16-1-4.log
+ ./run-analyze-tuned.sh 16 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-16-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-15-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728688573
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728688624
+ echo 15 1 4 51
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-15-1-4.log
+ ./run-analyze-tuned.sh 15 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-15-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-14-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728688780
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728688831
+ echo 14 1 4 51
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-14-1-4.log
+ ./run-analyze-tuned.sh 14 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-14-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-13-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728688977
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728689028
+ echo 13 1 4 51
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-13-1-4.log
+ ./run-analyze-tuned.sh 13 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-13-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-12-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728689175
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728689228
+ echo 12 1 4 53
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-12-1-4.log
+ ./run-analyze-tuned.sh 12 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-12-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-11-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728689354
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728689407
+ echo 11 1 4 53
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-11-1-4.log
+ ./run-analyze-tuned.sh 11 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-11-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-10-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728689535
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728689594
+ echo 10 1 4 59
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-10-1-4.log
+ ./run-analyze-tuned.sh 10 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-10-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.6-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728689729
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728689793
+ echo 9.6 1 4 64
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-9.6-1-4.log
+ ./run-analyze-tuned.sh 9.6 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-9.6-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for s in 1 10
+ for w in 0 4
+ '[' 0 == 4 ']'
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6 9.5 9.4 9.3 9.2 9.1 9.0 8.4 8.3 8.2 8.0'
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-18-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728690014
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728690629
+ echo 18 10 0 615
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-18-10-0.log
+ ./run-analyze-tuned.sh 18 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-18-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-17-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728692962
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728693564
+ echo 17 10 0 602
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-17-10-0.log
+ ./run-analyze-tuned.sh 17 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-17-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-16-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728695955
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728696591
+ echo 16 10 0 636
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-16-10-0.log
+ ./run-analyze-tuned.sh 16 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-16-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-15-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728698736
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728699385
+ echo 15 10 0 649
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-15-10-0.log
+ ./run-analyze-tuned.sh 15 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-15-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-14-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728701855
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728702529
+ echo 14 10 0 674
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-14-10-0.log
+ ./run-analyze-tuned.sh 14 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-14-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-13-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728705121
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728705795
+ echo 13 10 0 674
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-13-10-0.log
+ ./run-analyze-tuned.sh 13 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-13-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-12-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728708403
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728709114
+ echo 12 10 0 711
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-12-10-0.log
+ ./run-analyze-tuned.sh 12 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-12-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-11-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728711504
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728712226
+ echo 11 10 0 722
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-11-10-0.log
+ ./run-analyze-tuned.sh 11 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-11-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-10-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728714262
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728714958
+ echo 10 10 0 696
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-10-10-0.log
+ ./run-analyze-tuned.sh 10 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-10-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.6-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728717261
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728718013
+ echo 9.6 10 0 752
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-9.6-10-0.log
+ ./run-analyze-tuned.sh 9.6 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-9.6-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.5 == 8.0 ']'
+ '[' 9.5 == 8.1 ']'
+ '[' 9.5 == 8.2 ']'
+ '[' 9.5 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.5 == 9.4 ']'
+ '[' 9.5 == 9.3 ']'
+ '[' 9.5 == 9.2 ']'
+ '[' 9.5 == 9.1 ']'
+ '[' 9.5 == 9.0 ']'
+ '[' 9.5 == 8.4 ']'
+ '[' 9.5 == 8.3 ']'
+ '[' 9.5 == 8.2 ']'
+ '[' 9.5 == 8.1 ']'
+ '[' 9.5 == 8.0 ']'
+ '[' 9.5 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.5-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728720618
+ '[' 9.5 == 8.0 ']'
+ '[' 9.5 == 8.1 ']'
+ '[' 9.5 == 8.2 ']'
+ '[' 9.5 == 8.3 ']'
+ '[' 9.5 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728721446
+ echo 9.5 10 0 828
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.5 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.5-10-0.log
+ ./run-analyze-tuned.sh 9.5 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.5-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.4/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.4 == 8.0 ']'
+ '[' 9.4 == 8.1 ']'
+ '[' 9.4 == 8.2 ']'
+ '[' 9.4 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.4 == 9.4 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.4-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728724260
+ '[' 9.4 == 8.0 ']'
+ '[' 9.4 == 8.1 ']'
+ '[' 9.4 == 8.2 ']'
+ '[' 9.4 == 8.3 ']'
+ '[' 9.4 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728725164
+ echo 9.4 10 0 904
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.4 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.4-10-0.log
+ ./run-analyze-tuned.sh 9.4 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.4-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.3/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.3 == 8.0 ']'
+ '[' 9.3 == 8.1 ']'
+ '[' 9.3 == 8.2 ']'
+ '[' 9.3 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.3 == 9.4 ']'
+ '[' 9.3 == 9.3 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.3-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728728016
+ '[' 9.3 == 8.0 ']'
+ '[' 9.3 == 8.1 ']'
+ '[' 9.3 == 8.2 ']'
+ '[' 9.3 == 8.3 ']'
+ '[' 9.3 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728728924
+ echo 9.3 10 0 908
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.3 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.3-10-0.log
+ ./run-analyze-tuned.sh 9.3 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.3-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.2 == 8.0 ']'
+ '[' 9.2 == 8.1 ']'
+ '[' 9.2 == 8.2 ']'
+ '[' 9.2 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.2 == 9.4 ']'
+ '[' 9.2 == 9.3 ']'
+ '[' 9.2 == 9.2 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.2-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728732104
+ '[' 9.2 == 8.0 ']'
+ '[' 9.2 == 8.1 ']'
+ '[' 9.2 == 8.2 ']'
+ '[' 9.2 == 8.3 ']'
+ '[' 9.2 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728733022
+ echo 9.2 10 0 918
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.2 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.2-10-0.log
+ ./run-analyze-tuned.sh 9.2 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.2-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.1/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.1 == 8.0 ']'
+ '[' 9.1 == 8.1 ']'
+ '[' 9.1 == 8.2 ']'
+ '[' 9.1 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.1 == 9.4 ']'
+ '[' 9.1 == 9.3 ']'
+ '[' 9.1 == 9.2 ']'
+ '[' 9.1 == 9.1 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.1-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728736357
+ '[' 9.1 == 8.0 ']'
+ '[' 9.1 == 8.1 ']'
+ '[' 9.1 == 8.2 ']'
+ '[' 9.1 == 8.3 ']'
+ '[' 9.1 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728737284
+ echo 9.1 10 0 927
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.1 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.1-10-0.log
+ ./run-analyze-tuned.sh 9.1 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.1-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.0 == 8.0 ']'
+ '[' 9.0 == 8.1 ']'
+ '[' 9.0 == 8.2 ']'
+ '[' 9.0 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.0 == 9.4 ']'
+ '[' 9.0 == 9.3 ']'
+ '[' 9.0 == 9.2 ']'
+ '[' 9.0 == 9.1 ']'
+ '[' 9.0 == 9.0 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.0-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728740687
+ '[' 9.0 == 8.0 ']'
+ '[' 9.0 == 8.1 ']'
+ '[' 9.0 == 8.2 ']'
+ '[' 9.0 == 8.3 ']'
+ '[' 9.0 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728741614
+ echo 9.0 10 0 927
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.0 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-9.0-10-0.log
+ ./run-analyze-tuned.sh 9.0 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-9.0-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.4/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.4 == 8.0 ']'
+ '[' 8.4 == 8.1 ']'
+ '[' 8.4 == 8.2 ']'
+ '[' 8.4 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 8.4 == 9.4 ']'
+ '[' 8.4 == 9.3 ']'
+ '[' 8.4 == 9.2 ']'
+ '[' 8.4 == 9.1 ']'
+ '[' 8.4 == 9.0 ']'
+ '[' 8.4 == 8.4 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.4-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728744700
+ '[' 8.4 == 8.0 ']'
+ '[' 8.4 == 8.1 ']'
+ '[' 8.4 == 8.2 ']'
+ '[' 8.4 == 8.3 ']'
+ '[' 8.4 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728745644
+ echo 8.4 10 0 944
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.4 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.4-10-0.log
+ ./run-analyze-tuned.sh 8.4 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.4-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.3/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.3 == 8.0 ']'
+ '[' 8.3 == 8.1 ']'
+ '[' 8.3 == 8.2 ']'
+ '[' 8.3 == 8.3 ']'
+ echo ''
+ '[' 8.3 == 9.4 ']'
+ '[' 8.3 == 9.3 ']'
+ '[' 8.3 == 9.2 ']'
+ '[' 8.3 == 9.1 ']'
+ '[' 8.3 == 9.0 ']'
+ '[' 8.3 == 8.4 ']'
+ '[' 8.3 == 8.3 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.3-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728749034
+ '[' 8.3 == 8.0 ']'
+ '[' 8.3 == 8.1 ']'
+ '[' 8.3 == 8.2 ']'
+ '[' 8.3 == 8.3 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728749995
+ echo 8.3 10 0 961
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.3 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.3-10-0.log
+ ./run-analyze-tuned.sh 8.3 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.3-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.2/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.2 == 8.0 ']'
+ '[' 8.2 == 8.1 ']'
+ '[' 8.2 == 8.2 ']'
+ echo ''
+ '[' 8.2 == 9.4 ']'
+ '[' 8.2 == 9.3 ']'
+ '[' 8.2 == 9.2 ']'
+ '[' 8.2 == 9.1 ']'
+ '[' 8.2 == 9.0 ']'
+ '[' 8.2 == 8.4 ']'
+ '[' 8.2 == 8.3 ']'
+ '[' 8.2 == 8.2 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.2-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
CREATE DATABASE
++ date +%s
+ a=1728753586
+ '[' 8.2 == 8.0 ']'
+ '[' 8.2 == 8.1 ']'
+ '[' 8.2 == 8.2 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728754582
+ echo 8.2 10 0 996
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.2 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.2-10-0.log
+ ./run-analyze-tuned.sh 8.2 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.2-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/8.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 8.0 == 8.0 ']'
+ echo ''
+ '[' 8.0 == 9.4 ']'
+ '[' 8.0 == 9.3 ']'
+ '[' 8.0 == 9.2 ']'
+ '[' 8.0 == 9.1 ']'
+ '[' 8.0 == 9.0 ']'
+ '[' 8.0 == 8.4 ']'
+ '[' 8.0 == 8.3 ']'
+ '[' 8.0 == 8.2 ']'
+ '[' 8.0 == 8.1 ']'
+ '[' 8.0 == 8.0 ']'
+ echo 'checkpoint_segments = 8192'
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-8.0-10-0.log -w start
waiting for postmaster to start.... done
postmaster started
+ sleep 1
+ createdb test
CREATE DATABASE
++ date +%s
+ a=1728759474
+ '[' 8.0 == 8.0 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728761303
+ echo 8.0 10 0 1829
+ rm -f explains.log
+ ./run-queries-tuned.sh 8.0 10 0 /mnt/pgdata/data results.csv
waiting for postmaster to shut down..... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/explains-8.0-10-0.log
+ ./run-analyze-tuned.sh 8.0 10 0 /mnt/pgdata/data results.csv
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
waiting for postmaster to shut down.... done
postmaster stopped
waiting for postmaster to start.... done
postmaster started
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
ERROR:  parameter "work_mem" requires an integer value
ERROR:  unrecognized configuration parameter "max_parallel_workers_per_gather"
+ mv explains.log 20241011-225858/logs/analyze-8.0-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for postmaster to shut down.... done
postmaster stopped
+ sleep 1
+ for w in 0 4
+ '[' 4 == 4 ']'
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6'
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-18-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728768466
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728768991
+ echo 18 10 4 525
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-18-10-4.log
+ ./run-analyze-tuned.sh 18 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-18-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-17-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728776156
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728776680
+ echo 17 10 4 524
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-17-10-4.log
+ ./run-analyze-tuned.sh 17 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:36: ERROR:  canceling statement due to statement timeout
psql:explain.sql:36: ERROR:  canceling statement due to statement timeout
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-17-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-16-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728783876
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728784428
+ echo 16 10 4 552
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-16-10-4.log
+ ./run-analyze-tuned.sh 16 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-16-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-15-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728791574
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728792131
+ echo 15 10 4 557
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-15-10-4.log
+ ./run-analyze-tuned.sh 15 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:36: ERROR:  canceling statement due to statement timeout
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-15-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-14-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728799279
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728799854
+ echo 14 10 4 575
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-14-10-4.log
+ ./run-analyze-tuned.sh 14 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
psql:explain.sql:36: ERROR:  canceling statement due to statement timeout
psql:explain.sql:36: ERROR:  canceling statement due to statement timeout
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-14-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-13-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728807003
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728807578
+ echo 13 10 4 575
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-13-10-4.log
+ ./run-analyze-tuned.sh 13 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-13-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-12-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728814749
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728815358
+ echo 12 10 4 609
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-12-10-4.log
+ ./run-analyze-tuned.sh 12 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-12-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-11-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728816451
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728817064
+ echo 11 10 4 613
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-11-10-4.log
+ ./run-analyze-tuned.sh 11 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-11-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-10-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728818165
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728818863
+ echo 10 10 4 698
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-10-10-4.log
+ ./run-analyze-tuned.sh 10 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-10-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241011-225858/logs/pg-9.6-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728820142
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728820890
+ echo 9.6 10 4 748
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/explains-9.6-10-4.log
+ ./run-analyze-tuned.sh 9.6 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241011-225858/logs/analyze-9.6-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
