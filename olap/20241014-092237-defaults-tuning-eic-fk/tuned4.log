+ set -e
+ PATH_OLD=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ DATADIR=/mnt/pgdata/data
+ PSQL=/mnt/data/builds/18/bin/psql
++ date +%Y%m%d-%H%M%S
+ TS=20241014-092237
+ LOGDIR=20241014-092237/logs
+ RESULTS=20241014-092237/results
+ RUNS=3
+ mkdir -p 20241014-092237/logs
+ mkdir -p 20241014-092237/results
+ for s in 1 10
+ for w in 0 4
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6'
+ for v in $VERSIONS
+ killall -9 postgres
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 9.6 ']'
+ '[' 18 == 10 ']'
+ '[' 18 == 11 ']'
+ '[' 18 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-18-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728890559
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728890613
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728890617
+ echo 18 1 0 54 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-18-1-0.log
+ ./run-analyze-tuned.sh 18 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-18-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 9.6 ']'
+ '[' 17 == 10 ']'
+ '[' 17 == 11 ']'
+ '[' 17 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-17-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728890812
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728890865
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728890869
+ echo 17 1 0 53 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-17-1-0.log
+ ./run-analyze-tuned.sh 17 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-17-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 9.6 ']'
+ '[' 16 == 10 ']'
+ '[' 16 == 11 ']'
+ '[' 16 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-16-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728891066
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728891122
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728891126
+ echo 16 1 0 56 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-16-1-0.log
+ ./run-analyze-tuned.sh 16 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-16-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 9.6 ']'
+ '[' 15 == 10 ']'
+ '[' 15 == 11 ']'
+ '[' 15 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-15-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728891326
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728891383
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728891387
+ echo 15 1 0 57 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-15-1-0.log
+ ./run-analyze-tuned.sh 15 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-15-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 9.6 ']'
+ '[' 14 == 10 ']'
+ '[' 14 == 11 ']'
+ '[' 14 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-14-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728891592
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728891652
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728891656
+ echo 14 1 0 60 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-14-1-0.log
+ ./run-analyze-tuned.sh 14 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-14-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 9.6 ']'
+ '[' 13 == 10 ']'
+ '[' 13 == 11 ']'
+ '[' 13 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-13-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728891864
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728891923
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728891927
+ echo 13 1 0 59 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-13-1-0.log
+ ./run-analyze-tuned.sh 13 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-13-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 9.6 ']'
+ '[' 12 == 10 ']'
+ '[' 12 == 11 ']'
+ '[' 12 == 12 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-12-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728892129
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728892191
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728892195
+ echo 12 1 0 62 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-12-1-0.log
+ ./run-analyze-tuned.sh 12 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-12-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 9.6 ']'
+ '[' 11 == 10 ']'
+ '[' 11 == 11 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-11-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728892403
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728892463
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728892467
+ echo 11 1 0 60 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-11-1-0.log
+ ./run-analyze-tuned.sh 11 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-11-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 9.6 ']'
+ '[' 10 == 10 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-10-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728892671
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728892730
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728892734
+ echo 10 1 0 59 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-10-1-0.log
+ ./run-analyze-tuned.sh 10 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-10-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 9.6 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-9.6-1-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728892940
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728893004
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728893008
+ echo 9.6 1 0 64 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-9.6-1-0.log
+ ./run-analyze-tuned.sh 9.6 1 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-9.6-1-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6'
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 9.6 ']'
+ '[' 18 == 10 ']'
+ '[' 18 == 11 ']'
+ '[' 18 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-18-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728893306
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728893354
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728893358
+ echo 18 1 4 48 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-18-1-4.log
+ ./run-analyze-tuned.sh 18 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-18-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 9.6 ']'
+ '[' 17 == 10 ']'
+ '[' 17 == 11 ']'
+ '[' 17 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-17-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728893501
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728893548
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728893552
+ echo 17 1 4 47 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-17-1-4.log
+ ./run-analyze-tuned.sh 17 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-17-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 9.6 ']'
+ '[' 16 == 10 ']'
+ '[' 16 == 11 ']'
+ '[' 16 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-16-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728893696
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728893744
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728893748
+ echo 16 1 4 48 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-16-1-4.log
+ ./run-analyze-tuned.sh 16 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-16-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 9.6 ']'
+ '[' 15 == 10 ']'
+ '[' 15 == 11 ']'
+ '[' 15 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-15-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728893894
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728893944
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728893948
+ echo 15 1 4 50 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-15-1-4.log
+ ./run-analyze-tuned.sh 15 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-15-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 9.6 ']'
+ '[' 14 == 10 ']'
+ '[' 14 == 11 ']'
+ '[' 14 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-14-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728894096
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728894147
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728894151
+ echo 14 1 4 51 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-14-1-4.log
+ ./run-analyze-tuned.sh 14 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-14-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 9.6 ']'
+ '[' 13 == 10 ']'
+ '[' 13 == 11 ']'
+ '[' 13 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-13-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728894290
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728894341
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728894345
+ echo 13 1 4 51 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-13-1-4.log
+ ./run-analyze-tuned.sh 13 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-13-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 9.6 ']'
+ '[' 12 == 10 ']'
+ '[' 12 == 11 ']'
+ '[' 12 == 12 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-12-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728894483
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728894536
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728894540
+ echo 12 1 4 53 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-12-1-4.log
+ ./run-analyze-tuned.sh 12 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-12-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 9.6 ']'
+ '[' 11 == 10 ']'
+ '[' 11 == 11 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-11-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728894664
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728894717
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728894721
+ echo 11 1 4 53 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-11-1-4.log
+ ./run-analyze-tuned.sh 11 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-11-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 9.6 ']'
+ '[' 10 == 10 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-10-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728894845
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728894904
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728894908
+ echo 10 1 4 59 4
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-10-1-4.log
+ ./run-analyze-tuned.sh 10 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-10-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 9.6 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-9.6-1-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728895041
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728895105
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728895110
+ echo 9.6 1 4 64 5
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-9.6-1-4.log
+ ./run-analyze-tuned.sh 9.6 1 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-9.6-1-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for s in 1 10
+ for w in 0 4
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6'
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 9.6 ']'
+ '[' 18 == 10 ']'
+ '[' 18 == 11 ']'
+ '[' 18 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-18-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728895328
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728895932
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728895960
+ echo 18 10 0 604 28
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-18-10-0.log
+ ./run-analyze-tuned.sh 18 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-18-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 9.6 ']'
+ '[' 17 == 10 ']'
+ '[' 17 == 11 ']'
+ '[' 17 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-17-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728898146
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728898740
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728898768
+ echo 17 10 0 594 28
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-17-10-0.log
+ ./run-analyze-tuned.sh 17 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-17-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 9.6 ']'
+ '[' 16 == 10 ']'
+ '[' 16 == 11 ']'
+ '[' 16 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-16-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728901136
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728901773
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728901802
+ echo 16 10 0 637 29
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-16-10-0.log
+ ./run-analyze-tuned.sh 16 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-16-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 9.6 ']'
+ '[' 15 == 10 ']'
+ '[' 15 == 11 ']'
+ '[' 15 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-15-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728904051
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728904697
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728904725
+ echo 15 10 0 646 28
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-15-10-0.log
+ ./run-analyze-tuned.sh 15 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-15-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 9.6 ']'
+ '[' 14 == 10 ']'
+ '[' 14 == 11 ']'
+ '[' 14 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-14-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728906997
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728907677
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728907706
+ echo 14 10 0 680 29
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-14-10-0.log
+ ./run-analyze-tuned.sh 14 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-14-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 9.6 ']'
+ '[' 13 == 10 ']'
+ '[' 13 == 11 ']'
+ '[' 13 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-13-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728909734
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728910415
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728910450
+ echo 13 10 0 681 35
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-13-10-0.log
+ ./run-analyze-tuned.sh 13 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-13-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 9.6 ']'
+ '[' 12 == 10 ']'
+ '[' 12 == 11 ']'
+ '[' 12 == 12 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-12-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728912641
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728913352
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728913389
+ echo 12 10 0 711 37
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-12-10-0.log
+ ./run-analyze-tuned.sh 12 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-12-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 9.6 ']'
+ '[' 11 == 10 ']'
+ '[' 11 == 11 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-11-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728915384
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728916095
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728916133
+ echo 11 10 0 711 38
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-11-10-0.log
+ ./run-analyze-tuned.sh 11 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-11-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 9.6 ']'
+ '[' 10 == 10 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-10-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728918411
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728919111
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728919148
+ echo 10 10 0 700 37
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-10-10-0.log
+ ./run-analyze-tuned.sh 10 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-10-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 9.6 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-9.6-10-0.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728921307
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728922059
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728922100
+ echo 9.6 10 0 752 41
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-9.6-10-0.log
+ ./run-analyze-tuned.sh 9.6 10 0 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-9.6-10-0.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for w in 0 4
+ VERSIONS='18 17 16 15 14 13 12 11 10 9.6'
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/18/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 18 == 9.6 ']'
+ '[' 18 == 10 ']'
+ '[' 18 == 11 ']'
+ '[' 18 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 18 == 9.4 ']'
+ '[' 18 == 9.3 ']'
+ '[' 18 == 9.2 ']'
+ '[' 18 == 9.1 ']'
+ '[' 18 == 9.0 ']'
+ '[' 18 == 8.4 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.0 ']'
+ '[' 18 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-18-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728924544
+ '[' 18 == 8.0 ']'
+ '[' 18 == 8.1 ']'
+ '[' 18 == 8.2 ']'
+ '[' 18 == 8.3 ']'
+ '[' 18 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728925077
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728925108
+ echo 18 10 4 533 31
+ rm -f explains.log
+ ./run-queries-tuned.sh 18 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-18-10-4.log
+ ./run-analyze-tuned.sh 18 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-18-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/17/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 17 == 9.6 ']'
+ '[' 17 == 10 ']'
+ '[' 17 == 11 ']'
+ '[' 17 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 17 == 9.4 ']'
+ '[' 17 == 9.3 ']'
+ '[' 17 == 9.2 ']'
+ '[' 17 == 9.1 ']'
+ '[' 17 == 9.0 ']'
+ '[' 17 == 8.4 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.0 ']'
+ '[' 17 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-17-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728926364
+ '[' 17 == 8.0 ']'
+ '[' 17 == 8.1 ']'
+ '[' 17 == 8.2 ']'
+ '[' 17 == 8.3 ']'
+ '[' 17 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728926886
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728926914
+ echo 17 10 4 522 28
+ rm -f explains.log
+ ./run-queries-tuned.sh 17 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-17-10-4.log
+ ./run-analyze-tuned.sh 17 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-17-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/16/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 16 == 9.6 ']'
+ '[' 16 == 10 ']'
+ '[' 16 == 11 ']'
+ '[' 16 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 16 == 9.4 ']'
+ '[' 16 == 9.3 ']'
+ '[' 16 == 9.2 ']'
+ '[' 16 == 9.1 ']'
+ '[' 16 == 9.0 ']'
+ '[' 16 == 8.4 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.0 ']'
+ '[' 16 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-16-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728928169
+ '[' 16 == 8.0 ']'
+ '[' 16 == 8.1 ']'
+ '[' 16 == 8.2 ']'
+ '[' 16 == 8.3 ']'
+ '[' 16 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728928716
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728928744
+ echo 16 10 4 547 28
+ rm -f explains.log
+ ./run-queries-tuned.sh 16 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-16-10-4.log
+ ./run-analyze-tuned.sh 16 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-16-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/15/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 15 == 9.6 ']'
+ '[' 15 == 10 ']'
+ '[' 15 == 11 ']'
+ '[' 15 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 15 == 9.4 ']'
+ '[' 15 == 9.3 ']'
+ '[' 15 == 9.2 ']'
+ '[' 15 == 9.1 ']'
+ '[' 15 == 9.0 ']'
+ '[' 15 == 8.4 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.0 ']'
+ '[' 15 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-15-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728929883
+ '[' 15 == 8.0 ']'
+ '[' 15 == 8.1 ']'
+ '[' 15 == 8.2 ']'
+ '[' 15 == 8.3 ']'
+ '[' 15 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728930439
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728930467
+ echo 15 10 4 556 28
+ rm -f explains.log
+ ./run-queries-tuned.sh 15 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-15-10-4.log
+ ./run-analyze-tuned.sh 15 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-15-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/14/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 14 == 9.6 ']'
+ '[' 14 == 10 ']'
+ '[' 14 == 11 ']'
+ '[' 14 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 14 == 9.4 ']'
+ '[' 14 == 9.3 ']'
+ '[' 14 == 9.2 ']'
+ '[' 14 == 9.1 ']'
+ '[' 14 == 9.0 ']'
+ '[' 14 == 8.4 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.0 ']'
+ '[' 14 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-14-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728931626
+ '[' 14 == 8.0 ']'
+ '[' 14 == 8.1 ']'
+ '[' 14 == 8.2 ']'
+ '[' 14 == 8.3 ']'
+ '[' 14 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728932207
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728932236
+ echo 14 10 4 581 29
+ rm -f explains.log
+ ./run-queries-tuned.sh 14 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-14-10-4.log
+ ./run-analyze-tuned.sh 14 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-14-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/13/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 13 == 9.6 ']'
+ '[' 13 == 10 ']'
+ '[' 13 == 11 ']'
+ '[' 13 == 12 ']'
+ echo 'effective_io_concurrency = 54'
+ '[' 13 == 9.4 ']'
+ '[' 13 == 9.3 ']'
+ '[' 13 == 9.2 ']'
+ '[' 13 == 9.1 ']'
+ '[' 13 == 9.0 ']'
+ '[' 13 == 8.4 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.0 ']'
+ '[' 13 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-13-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728933412
+ '[' 13 == 8.0 ']'
+ '[' 13 == 8.1 ']'
+ '[' 13 == 8.2 ']'
+ '[' 13 == 8.3 ']'
+ '[' 13 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728933993
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728934028
+ echo 13 10 4 581 35
+ rm -f explains.log
+ ./run-queries-tuned.sh 13 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-13-10-4.log
+ ./run-analyze-tuned.sh 13 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-13-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/12/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 12 == 9.6 ']'
+ '[' 12 == 10 ']'
+ '[' 12 == 11 ']'
+ '[' 12 == 12 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 12 == 9.4 ']'
+ '[' 12 == 9.3 ']'
+ '[' 12 == 9.2 ']'
+ '[' 12 == 9.1 ']'
+ '[' 12 == 9.0 ']'
+ '[' 12 == 8.4 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.0 ']'
+ '[' 12 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-12-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728935269
+ '[' 12 == 8.0 ']'
+ '[' 12 == 8.1 ']'
+ '[' 12 == 8.2 ']'
+ '[' 12 == 8.3 ']'
+ '[' 12 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728935886
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728935924
+ echo 12 10 4 617 38
+ rm -f explains.log
+ ./run-queries-tuned.sh 12 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down...... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-12-10-4.log
+ ./run-analyze-tuned.sh 12 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-12-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/11/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 11 == 9.6 ']'
+ '[' 11 == 10 ']'
+ '[' 11 == 11 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 11 == 9.4 ']'
+ '[' 11 == 9.3 ']'
+ '[' 11 == 9.2 ']'
+ '[' 11 == 9.1 ']'
+ '[' 11 == 9.0 ']'
+ '[' 11 == 8.4 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.0 ']'
+ '[' 11 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-11-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728937006
+ '[' 11 == 8.0 ']'
+ '[' 11 == 8.1 ']'
+ '[' 11 == 8.2 ']'
+ '[' 11 == 8.3 ']'
+ '[' 11 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728937629
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728937667
+ echo 11 10 4 623 38
+ rm -f explains.log
+ ./run-queries-tuned.sh 11 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down....... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-11-10-4.log
+ ./run-analyze-tuned.sh 11 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-11-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/10/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 10 == 9.6 ']'
+ '[' 10 == 10 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 10 == 9.4 ']'
+ '[' 10 == 9.3 ']'
+ '[' 10 == 9.2 ']'
+ '[' 10 == 9.1 ']'
+ '[' 10 == 9.0 ']'
+ '[' 10 == 8.4 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.0 ']'
+ '[' 10 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-10-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728938750
+ '[' 10 == 8.0 ']'
+ '[' 10 == 8.1 ']'
+ '[' 10 == 8.2 ']'
+ '[' 10 == 8.3 ']'
+ '[' 10 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728939453
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728939490
+ echo 10 10 4 703 37
+ rm -f explains.log
+ ./run-queries-tuned.sh 10 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-10-10-4.log
+ ./run-analyze-tuned.sh 10 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-10-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
+ for v in $VERSIONS
+ killall -9 postgres
postgres: no process found
+ true
+ PATH=/mnt/data/builds/9.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ rm -Rf /mnt/pgdata/data
+ initdb -D /mnt/pgdata/data
+ echo 'shared_buffers = 262143'
+ echo 'checkpoint_timeout = 1800'
+ echo 'max_connections = 1000'
+ echo 'work_mem = '\''32768'\'''
+ echo 'random_page_cost = 1.5'
+ '[' 9.6 == 9.6 ']'
+ echo 'effective_io_concurrency = 16'
+ '[' 9.6 == 9.4 ']'
+ '[' 9.6 == 9.3 ']'
+ '[' 9.6 == 9.2 ']'
+ '[' 9.6 == 9.1 ']'
+ '[' 9.6 == 9.0 ']'
+ '[' 9.6 == 8.4 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 7.4 ']'
+ echo 'max_wal_size = '\''128GB'\'''
+ echo 'min_wal_size = '\''32GB'\'''
+ echo 'cpu_index_tuple_cost = 0.005'
+ echo 'default_statistics_target = 100'
+ echo 'effective_cache_size = 16384'
+ echo 'maintenance_work_mem = 65536'
+ echo 'wal_buffers = 512'
+ echo 'work_mem = 4096'
+ pg_ctl -D /mnt/pgdata/data -l 20241014-092237/logs/pg-9.6-10-4.log -w start
waiting for server to start.... done
server started
+ sleep 1
+ createdb test
++ date +%s
+ a=1728940781
+ '[' 9.6 == 8.0 ']'
+ '[' 9.6 == 8.1 ']'
+ '[' 9.6 == 8.2 ']'
+ '[' 9.6 == 8.3 ']'
+ '[' 9.6 == 8.4 ']'
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ b=1728941531
+ /mnt/data/builds/18/bin/psql -e test
++ date +%s
+ c=1728941573
+ echo 9.6 10 4 750 42
+ rm -f explains.log
+ ./run-queries-tuned.sh 9.6 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down..... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/explains-9.6-10-4.log
+ ./run-analyze-tuned.sh 9.6 10 4 /mnt/pgdata/data results.csv
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
waiting for server to shut down.... done
server stopped
waiting for server to start.... done
server started
+ mv explains.log 20241014-092237/logs/analyze-9.6-10-4.log
+ pg_ctl -D /mnt/pgdata/data -w stop
waiting for server to shut down.... done
server stopped
+ sleep 1
